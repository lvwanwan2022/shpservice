# Deck.gl åœ°å›¾ç»„ä»¶å®‰è£…è¯´æ˜

## å½“å‰çŠ¶æ€

âœ… **Deck.glåœ°å›¾é¡µé¢å·²åˆ›å»ºå®Œæˆ**
- è·¯ç”±é…ç½®ï¼š`/map-deckgl`
- ä¸»é¡µå¯¼èˆªå·²æ·»åŠ 
- ç»„ä»¶ç»“æ„å®Œæ•´
- ä¸´æ—¶ä½¿ç”¨Leafletä½œä¸ºåº•å±‚åœ°å›¾

âš ï¸ **éœ€è¦å®‰è£…Deck.glä¾èµ–**

## å®‰è£…Deck.glä¾èµ–

ç”±äºå½“å‰ç¯å¢ƒçš„Node.jsç‰ˆæœ¬è¾ƒæ–°ï¼Œå¯èƒ½ä¸æŸäº›ä¾èµ–å­˜åœ¨å…¼å®¹æ€§é—®é¢˜ã€‚å»ºè®®æŒ‰ä»¥ä¸‹æ­¥éª¤å®‰è£…ï¼š

### æ–¹æ³•1ï¼šä½¿ç”¨npmå®‰è£…ï¼ˆæ¨èï¼‰

```bash
# è¿›å…¥å‰ç«¯ç›®å½•
cd frontend

# å®‰è£…Deck.glæ ¸å¿ƒåŒ…ï¼ˆæ— Reactä¾èµ–ï¼‰
npm install @deck.gl/core @deck.gl/layers @deck.gl/geo-layers --legacy-peer-deps

# æˆ–è€…æŒ‡å®šç‰ˆæœ¬
npm install @deck.gl/core@^8.9.0 @deck.gl/layers@^8.9.0 @deck.gl/geo-layers@^8.9.0 --legacy-peer-deps
```

### æ–¹æ³•2ï¼šä½¿ç”¨yarnå®‰è£…

```bash
# ä½¿ç”¨yarnå®‰è£…
yarn add @deck.gl/core @deck.gl/layers @deck.gl/geo-layers --ignore-engines
```

### æ–¹æ³•3ï¼šä¿®æ”¹package.jsonåå®‰è£…

ç›´æ¥åœ¨package.jsonä¸­æ·»åŠ ä¾èµ–ï¼š

```json
{
  "dependencies": {
    "@deck.gl/core": "^8.9.0",
    "@deck.gl/layers": "^8.9.0",
    "@deck.gl/geo-layers": "^8.9.0"
  }
}
```

ç„¶åè¿è¡Œï¼š
```bash
npm install --legacy-peer-deps
```

## å®‰è£…æˆåŠŸåçš„é…ç½®

å®‰è£…æˆåŠŸåï¼Œéœ€è¦ä¿®æ”¹ `MapViewerDeckGL.vue` ç»„ä»¶ï¼š

1. å°† `initLeafletMap()` æ›¿æ¢ä¸ºçœŸæ­£çš„ `initDeckGL()` å®ç°
2. å¯ç”¨Deck.glç›¸å…³åŠŸèƒ½
3. æ›´æ–°åº•å›¾åˆ‡æ¢å™¨ä½¿ç”¨Deck.gl API

## ç»„ä»¶åŠŸèƒ½ç‰¹æ€§

### âœ… å·²å®ç°åŠŸèƒ½
- åœ°å›¾å®¹å™¨å’Œæ§åˆ¶ç•Œé¢
- åº•å›¾åˆ‡æ¢å™¨ï¼ˆ6ç§åº•å›¾é€‰æ‹©ï¼‰
- é¼ æ ‡åæ ‡æ˜¾ç¤º
- åˆ·æ–°æŒ‰é’®
- ç¼“å­˜æ§åˆ¶
- ç”¨æˆ·å®šä½åŠŸèƒ½
- ç§»åŠ¨ç«¯å“åº”å¼è®¾è®¡

### ğŸ”„ ä½¿ç”¨Leafletä¸´æ—¶æ›¿ä»£
- åŸºç¡€åœ°å›¾æ˜¾ç¤º
- åº•å›¾åˆ‡æ¢
- é¼ æ ‡åæ ‡æ›´æ–°
- åœ°å›¾äº¤äº’æ§åˆ¶

### ğŸ¯ Deck.glä¾èµ–å®‰è£…åå°†æ”¯æŒ
- 3Dåœ°å›¾å¯è§†åŒ–
- GPUåŠ é€Ÿæ¸²æŸ“
- å¤§æ•°æ®é‡å›¾å±‚æ˜¾ç¤º
- é«˜æ€§èƒ½åŠ¨ç”»æ•ˆæœ
- ä¸“ä¸šçš„GISæ•°æ®å¯è§†åŒ–

## é¡µé¢è®¿é—®

å¯åŠ¨å¼€å‘æœåŠ¡å™¨åï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼è®¿é—®ï¼š

1. **ä¸»é¡µå¯¼èˆª**ï¼šç‚¹å‡»"åœ°å›¾æµè§ˆ(Deck.gl)"å¡ç‰‡
2. **ç›´æ¥è®¿é—®**ï¼š`http://localhost:8080/#/map-deckgl`

## æ•…éšœæ’é™¤

### å¦‚æœé‡åˆ°Reactç›¸å…³é”™è¯¯
```bash
# å®‰è£…Reactï¼ˆä»…ä½œä¸ºpeer dependencyï¼‰
npm install react react-dom --save-dev
```

### å¦‚æœé‡åˆ°WebGLç›¸å…³é”™è¯¯
ç¡®ä¿æµè§ˆå™¨æ”¯æŒWebGL 2.0ï¼š
- Chrome 56+
- Firefox 51+
- Safari 15+

### Node.jsç‰ˆæœ¬å…¼å®¹æ€§
å¦‚æœé‡åˆ°ç‰ˆæœ¬å…¼å®¹æ€§é—®é¢˜ï¼Œå¯ä»¥è€ƒè™‘ï¼š
1. ä½¿ç”¨nvmåˆ‡æ¢åˆ°Node.js 18æˆ–20
2. ä½¿ç”¨ `--legacy-peer-deps` å‚æ•°
3. ä½¿ç”¨yarnæ›¿ä»£npm

## ä¸‹ä¸€æ­¥

1. å®‰è£…Deck.glä¾èµ–
2. æµ‹è¯•åœ°å›¾åŠŸèƒ½
3. æ ¹æ®éœ€è¦æ·»åŠ æ›´å¤š3Då¯è§†åŒ–ç‰¹æ€§
4. é›†æˆç°æœ‰çš„å›¾å±‚ç®¡ç†åŠŸèƒ½ 