# 分片上传功能说明

## 功能概述

为了更好地处理大文件上传，系统现在支持**智能分片上传**功能。当文件大小超过 5MB 时，系统会自动使用分片上传模式，提供更稳定的上传体验和详细的进度信息。

## 主要特性

### 🚀 智能上传模式
- **小文件（≤5MB）**：使用传统单次上传，速度快
- **大文件（>5MB）**：自动切换到分片上传，更稳定

### 📊 实时进度显示
- **上传进度条**：直观显示上传百分比
- **上传速度**：实时显示当前上传速度
- **剩余时间**：智能估算完成时间
- **分片信息**：显示已上传/总分片数量

### 🎯 拖拽上传支持
- 支持直接拖拽文件到上传区域
- 自动识别文件大小和类型
- 直观的拖拽提示效果

### ⏹️ 上传控制
- **取消上传**：随时中断上传过程
- **断点续传**：支持网络中断后继续上传（开发中）
- **错误重试**：自动处理网络错误

## 使用方法

### 1. 选择文件
- **点击选择**：点击上传区域选择文件
- **拖拽上传**：直接将文件拖到上传区域

### 2. 查看文件信息
- 文件名和大小自动显示
- 大文件会提示使用分片上传

### 3. 开始上传
- 点击"🚀 开始上传"按钮
- 系统自动选择最佳上传方式

### 4. 监控进度
- 实时查看上传进度
- 了解当前上传速度
- 预估剩余完成时间

### 5. 管理上传
- 随时点击"❌ 取消上传"停止
- 上传完成后自动刷新页面

## 技术参数

### 分片设置
- **分片大小**：1MB (1,048,576 字节)
- **触发阈值**：5MB
- **最大并发**：1 个分片（顺序上传）

### 性能优化
- **内存占用**：每次只加载一个分片到内存
- **网络效率**：失败分片可单独重传
- **存储安全**：临时文件自动清理

## 注意事项

1. **网络稳定性**：建议在稳定网络环境下上传大文件
2. **浏览器内存**：超大文件可能影响浏览器性能
3. **服务器负载**：大量并发上传可能影响服务器性能
4. **磁盘空间**：确保服务器有足够的临时存储空间

## 技术支持

如有问题请联系：
- **作者**：@Lvwan
- **邮箱**：793145268@qq.com
- **版本**：v2.0 with 分片上传 